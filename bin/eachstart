#!/bin/bash

kill_and_start() {
	pkill -f "$1"
	$*
}

fusuma -d
xrdb -cpp cpp ~/.Xresources

if [ "$XDG_SESSION_TYPE" = 'x11' ]; then
	xsetwacom set 'Wacom Bamboo One M Pen stylus' area 0 0 9000 6000
	xinput map-to-output 'Melfas LGD AIT Touch Controller' DP-4
	xinput map-to-output 'Melfas LGD AIT Touch Controller' HDMI-0
	kill_and_start compton -b
	kill_and_start ulauncher --hide-window &
	~/.config/polybar/launch.sh &
elif [ "$XDG_SESSION_TYPE" = 'wayland' ]; then
	GDK_BACKEND=x11 kill_and_start ulauncher --hide-window &
fi
